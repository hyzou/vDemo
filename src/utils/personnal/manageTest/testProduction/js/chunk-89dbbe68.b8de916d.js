(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89dbbe68"],{"01f9":function(t,e,n){"use strict";var a=n("2d00"),i=n("5ca1"),r=n("2aba"),s=n("32e9"),o=n("84f2"),c=n("41a0"),l=n("7f20"),u=n("38fd"),d=n("2b4c")("iterator"),p=!([].keys&&"next"in[].keys()),f="@@iterator",v="keys",m="values",h=function(){return this};t.exports=function(t,e,n,y,T,g,L){c(n,e,y);var _,S,b,x=function(t){if(!p&&t in w)return w[t];switch(t){case v:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},q=e+" Iterator",C=T==m,k=!1,w=t.prototype,O=w[d]||w[f]||T&&w[T],R=O||x(T),D=T?C?x("entries"):R:void 0,P="Array"==e&&w.entries||O;if(P&&(b=u(P.call(new t)),b!==Object.prototype&&b.next&&(l(b,q,!0),a||"function"==typeof b[d]||s(b,d,h))),C&&O&&O.name!==m&&(k=!0,R=function(){return O.call(this)}),a&&!L||!p&&!k&&w[d]||s(w,d,R),o[e]=R,o[q]=h,T)if(_={values:C?R:x(m),keys:g?R:x(v),entries:D},L)for(S in _)S in w||r(w,S,_[S]);else i(i.P+i.F*(p||k),e,_);return _}},"38fd":function(t,e,n){var a=n("69a8"),i=n("4bf8"),r=n("613b")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),a(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},"41a0":function(t,e,n){"use strict";var a=n("2aeb"),i=n("4630"),r=n("7f20"),s={};n("32e9")(s,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=a(s,{next:i(1,n)}),r(t,e+" Iterator")}},7333:function(t,e,n){"use strict";var a=n("9e1e"),i=n("0d58"),r=n("2621"),s=n("52a7"),o=n("4bf8"),c=n("626a"),l=Object.assign;t.exports=!l||n("79e5")(function(){var t={},e={},n=Symbol(),a="abcdefghijklmnopqrst";return t[n]=7,a.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=a})?function(t,e){var n=o(t),l=arguments.length,u=1,d=r.f,p=s.f;while(l>u){var f,v=c(arguments[u++]),m=d?i(v).concat(d(v)):i(v),h=m.length,y=0;while(h>y)f=m[y++],a&&!p.call(v,f)||(n[f]=v[f])}return n}:l},"7c9b":function(t,e,n){"use strict";n.r(e);n("ac6a"),n("f751");var a={name:"equipmentList",components:{myheader:function(){return n.e("chunk-2325facc").then(n.bind(null,"8c2e"))},iconSvg:function(){return n.e("chunk-5ff37103").then(n.bind(null,"0307"))}},data:function(){return{headerOptionSettings:{hideleft:!1,title:"设备分机",routePath:"home",rightIcon:"icontianjia"},formdata:{},equipmentList:[],paramlist:[],controllerId:this.$route.query.eqpId?this.$route.query.eqpId:""}},methods:{handleMyheaderRightFnc:function(){this.$route.query.testEqpId="",this.$router.push({path:"addEqpExt",query:this.$route.query})},handleRouterTo:function(t,e){this.$store.dispatch("setPlcCanTestProgram",e.local);var n=this.$route.query,a=Object.assign({},n,{testEqpId:t});this.$router.push({path:"addEqpExt",query:a})},getControllerConfig:function(t){if(t||0==t){var e=this;e.$postData(e.$api.getControllerConfig,{controllerId:t}).then(function(t){t&&t.data&&(e.getDeviceConfigList(t.data),t.data.testControllerDto.connectionType_dsc="serial"==t.data.testControllerDto.connectionType?"串口":"TCP",e.paramlist=e.$store.getters.protocolParamsDatas[t.data.testControllerDto.protocolType].paramList,e.formdata=t.data.testControllerDto,e.controllerId=t.data.controllerId)})}},getDeviceConfigList:function(t){var e=this;e.$postData(e.$api.getDeviceList,t).then(function(t){if(t&&t.data&&t.data.length>0){var n=[];t.data.forEach(function(t){var a={id:t.deviceId,title:t.deviceName,deviceType:t.deviceType,deviceType_dsc:"",status:"",localTestResult:t.localTestResult,remoteTestResult:t.remoteTestResult,localTestStatus:"",remoteTestStatus:"",local:null};e.$store.getters.eqpTpyeDatas.map(function(e){e.value==t.deviceType&&(a.deviceType_dsc=e.label)}),"notDetected"===t.localTestResult?(a.status="柜控未测试,",a.localTestStatus="柜控未测试,",a.local=!1):"1"===t.localTestResult?(a.status="柜控测试成功,",a.localTestStatus="柜控测试成功,",a.local=!0):(a.status="柜控测试失败,",a.localTestStatus="柜控测试失败,",a.local=!1),"notDetected"===t.remoteTestResult?(a.status+="程控未测试",a.remoteTestStatus="程控未测试"):"1"===t.remoteTestResult?(a.status+="程控测试成功",a.remoteTestStatus="程控测试成功"):(a.status+="程控测试失败",a.remoteTestStatus="程控测试失败"),n.push(a)}),n.map(function(t){if(0==e.equipmentList.length)e.equipmentList.push({deviceType:t.deviceType,deviceType_dsc:t.deviceType_dsc,deviceList:[t],expand:!1});else{var n=e.equipmentList.some(function(e){if(e.deviceType==t.deviceType)return e.deviceList.push(t),!0});n||e.equipmentList.push({deviceType:t.deviceType,deviceType_dsc:t.deviceType_dsc,deviceList:[t],expand:!1})}})}})}},mounted:function(){this.getControllerConfig(this.$route.query.eqpId)}},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.formdata?n("div",{staticClass:"manage"},[n("myheader",{attrs:{myheaderOption:t.headerOptionSettings},on:{myheaderRightFnc:t.handleMyheaderRightFnc}}),t._v(" "),n("mt-cell",{attrs:{title:"分机名",value:t.formdata.controllerName}}),t._v(" "),n("mt-cell",{attrs:{title:"连接类型",value:t.formdata.connectionType_dsc}}),t._v(" "),"tcp"!==t.formdata.connectionType?[n("mt-cell",{attrs:{title:"串口",value:t.formdata.port}})]:[n("mt-cell",{attrs:{title:"IP地址",value:t.formdata.host}}),t._v(" "),n("mt-cell",{attrs:{title:"端口",value:t.formdata.port}})],t._v(" "),n("mt-cell",{attrs:{title:"协议类型",value:t.formdata.protocolType}}),t._v(" "),t._l(t.paramlist,function(e){return[t.formdata.protocolParameter[e.paramName]?n("mt-cell",{key:e.paramName,attrs:{title:e.paramDesc,value:t.formdata.protocolParameter[e.paramName]}}):t._e()]}),t._v(" "),t.equipmentList.length>0?n("div",t._l(t.equipmentList,function(e){return n("div",{key:e.deviceType},[n("div",{staticClass:"title"},[n("mt-cell",{attrs:{title:e.deviceType_dsc},nativeOn:{click:function(t){e.expand=!e.expand}}},[n("iconSvg",{directives:[{name:"show",rawName:"v-show",value:e.expand,expression:"equipmentP.expand"}],attrs:{iconClass:"iconjiantoushang"}}),t._v(" "),n("iconSvg",{directives:[{name:"show",rawName:"v-show",value:!e.expand,expression:"!equipmentP.expand"}],attrs:{iconClass:"iconjiantouxia"}})],1)],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.expand,expression:"equipmentP.expand"}],staticClass:"pl10 bgfff"},t._l(e.deviceList,function(e){return n("mt-cell",{key:e.id,attrs:{title:e.title,"is-link":""},nativeOn:{click:function(n){return t.handleRouterTo(e.id,e)}}},[n("span",{class:"1"!==e.localTestResult?"text-danger":"text-success"},[t._v("\n            "+t._s(e.localTestStatus)+"\n          ")]),t._v(" "),n("span",{class:"1"!==e.remoteTestResult?"text-danger":"text-success"},[t._v("\n            "+t._s(e.remoteTestStatus)+"\n          ")])])}),1)])}),0):n("div",[n("mt-cell",{attrs:{title:"还没有测试过设备！"}}),t._v(" "),n("div",{staticClass:"largeBtnContainer"},[n("mt-button",{attrs:{size:"large",type:"primary"},nativeOn:{click:function(e){return t.handleMyheaderRightFnc(e)}}},[t._v("\n        添加设备\n      ")])],1)],1)],2):t._e()},r=[],s=n("2455"),o=!1,c=null,l=null,u=null,d=Object(s["a"])(a,i,r,o,c,l,u);e["default"]=d.exports},"9c6c":function(t,e,n){var a=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[a]&&n("32e9")(i,a,{}),t.exports=function(t){i[a][t]=!0}},ac6a:function(t,e,n){for(var a=n("cadf"),i=n("0d58"),r=n("2aba"),s=n("7726"),o=n("32e9"),c=n("84f2"),l=n("2b4c"),u=l("iterator"),d=l("toStringTag"),p=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=i(f),m=0;m<v.length;m++){var h,y=v[m],T=f[y],g=s[y],L=g&&g.prototype;if(L&&(L[u]||o(L,u,p),L[d]||o(L,d,y),c[y]=p,T))for(h in a)L[h]||r(L,h,a[h],!0)}},cadf:function(t,e,n){"use strict";var a=n("9c6c"),i=n("d53b"),r=n("84f2"),s=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),r.Arguments=r.Array,a("keys"),a("values"),a("entries")},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},f751:function(t,e,n){var a=n("5ca1");a(a.S+a.F,"Object",{assign:n("7333")})}}]);