(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-401e8dde"],{1143:function(t,e,a){t.exports=a.p+"img/target.8a17f043.jpg"},1474:function(t){t.exports=[{flag:"post",size:"",icon:"",label:"提交至省考核办",styleType:"primary",postUrl:"addRegisterMember"},{flag:"save",size:"",icon:"",label:"保存",styleType:"primary",postUrl:"addRegisterMember"},{flag:"cancle",size:"",icon:"",label:"退出",styleType:"",postUrl:"addRegisterMember"}]},"1f48":function(t){t.exports=[{type:"inputHidden",label:"数据id",name:"targetId",span:24,width:"150px"},{type:"date",label:"年度",name:"year",span:12,width:"150px",dateType:"year",disabled:!0},{type:"input",label:"城市",name:"cityName",span:12,width:"150px",disabled:!0},{type:"input",label:"考核内容",name:"assessmentContent",span:24,width:"150px",disabled:!0},{type:"input",label:"重点考核事项",name:"assessmentItems",span:24,width:"150px",disabled:!0},{type:"input",label:"年度考核目标",name:"assessmentTarget",span:24,width:"150px",disabled:!0},{type:"textarea",label:"评分标准",name:"scoreStandard",span:24,width:"150px",disabled:!0,rows:4},{type:"textarea",label:"市县级征询意见",name:"cityOpinion",span:24,width:"150px",rows:3},{type:"inputTable",label:"市县级意见列表",name:"coordinationList",span:24,width:"150px",headers:[{key:"coordination",title:"市县名称",disabled:!0},{key:"coordinationOpinions",title:"市县级部门意见",disabled:!0},{key:"coordinationMaterials",inputType:"nullSpan",title:"配合材料",disabled:!0}],tableItems:{coordination:"",coordinationOpinions:"",coordinationMaterials:""}},{type:"textarea",label:"特别提示",name:"hotTip",span:24,width:"150px",disabled:!0,className:"hot-tip",rows:3}]},5364:function(t){t.exports=[{prop:"year",lable:"年度"},{prop:"assessmentTarget",lable:"年度考核目标任务"},{prop:"targetScore",lable:"分值"},{prop:"scoreStandard",lable:"评分标准"},{prop:"provinceLeadDepartment",lable:"省牵头部门"},{prop:"provinceCoordinationDepartment",lable:"省配合部门"},{prop:"cityOpinion",lable:"修改意见"},{prop:"operateBtns",lable:"操作",propType:"operateBtns",width:"250px"}]},7226:function(t,e,a){"use strict";a.r(e);a("7f7f"),a("ac6a");var i=a("c917"),s=a("a693"),o=a("5364"),n=a("1f48"),r=a("1474"),l=a("e776"),p=a("bf46"),d={name:"index",components:{formGroup:l.a,dialogForm:p.a},data:function(){return{paginationSettings:{currentPage:1,layout:"total, prev, pager, next, jumper",totalNumbers:0},searchFormItems:{fullScreen:!1,formGroupList:i,formGroupValues:{},formButtonList:s},dialogFormSettings:{fullScreen:!1,dialogFormVisible:!1,dialogFormTitle:"意见征询",dialogFormItems:{formGroupValues:{},formGroupList:n,formButtonList:r}},tableSettings:{tableDatas:[],tableSettingOptions:{ref:"target",tooltipEffect:"dark",rowKey:"targetId",border:!0,headerOptions:o,isShowIndex:!0,showIndexHeader:"序号"}},dialogFormSettingsAnalysis:{dialogFormTitle:"意见分析",dialogType:"image",dialogFormVisible:!1,imgSrc:"../../../../assets/target.jpg"}}},methods:{handleSearchFormBtn:function(t,e){console.log(t,e)},handleTableRowButton:function(t,e){if("opinion"===e.type){var a=JSON.parse(JSON.stringify(n));a.forEach(function(t){"coordinationList"===t.name&&(t.hideItem=!0)}),this.dialogFormSettings.dialogFormItems.formGroupList=a,this.dialogFormSettings.dialogFormVisible=!0,this.dialogFormSettings.dialogFormItems.formGroupValues=JSON.parse(JSON.stringify(t))}},handleDialogForm:function(t,e){var a=this;this.dialogFormSettings.dialogFormVisible=!1,"save"===t.flag&&e.cityOpinion?this.$store.getters["assessment/getTargetList"].forEach(function(t){t.targetId===e.targetId&&(t.cityOpinion=e.cityOpinion,a.$store.dispatch("assessment/commitTargetInfo",t).then(function(){return a.setTableList()}))}):"post"===t.flag&&e.cityOpinion&&this.$store.getters["assessment/getTargetList"].forEach(function(t){t.targetId===e.targetId&&(t.cityOpinion=e.cityOpinion,t.postFlag="true",a.$store.dispatch("assessment/commitTargetInfo",t).then(function(){return a.setTableList()}))})},setTableList:function(){var t=this.$store.getters["assessment/getTargetList"],e=[];this.tableSettings.tableDatas=t.map(function(t,a){return t.operateBtns=[],t.postFlag||t.operateBtns.push({text:"意见",type:"opinion",styleType:"primary"}),e.push({value:a+1,label:t.assessmentTarget}),t}),this.paginationSettings.totalNumbers=this.tableSettings.tableDatas.length,this.searchFormItems.formGroupList.map(function(t){return"assessmentTarget"===t.name&&(t.data=e),t})}},mounted:function(){this.setTableList()}},m=a("2877"),g=Object(m.a)(d,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pt10 pr10 pl10 width100"},[i("el-col",{staticClass:"mb20",attrs:{span:24}},[i("commonTitleWithBorder",{attrs:{title:"查询条件"}})],1),i("el-col",{staticClass:"mb20",attrs:{span:24}},[i("formGroup",{attrs:{formGroupSettings:t.searchFormItems},on:{formGroupSubmit:t.handleSearchFormBtn}})],1),i("el-col",{attrs:{span:6}},[i("commonTitleWithBorder",{attrs:{title:"列表信息"}})],1),i("el-col",{staticClass:"mb10 textAlignRight",attrs:{span:4,offset:14}},[i("el-button",{attrs:{type:"primary"}},[t._v("导出")])],1),i("tableList",{attrs:{tablelistSettings:t.tableSettings},on:{handleTableRowButton:t.handleTableRowButton}}),i("pagination",{attrs:{paginationSettings:t.paginationSettings}}),t.dialogFormSettings.dialogFormVisible?i("dialogForm",{attrs:{dialogFormSettings:t.dialogFormSettings},on:{handleDialogForm:t.handleDialogForm}}):t._e(),t.dialogFormSettingsAnalysis.dialogFormVisible?i("el-dialog",{attrs:{title:"意见分析",visible:t.dialogFormSettingsAnalysis.dialogFormVisible,"close-on-click-modal":!1,"append-to-body":"","destroy-on-close":!0},on:{"update:visible":function(e){return t.$set(t.dialogFormSettingsAnalysis,"dialogFormVisible",e)}}},[i("div",{staticClass:"textAlignCenter"},[i("img",{attrs:{src:a("1143"),alt:""}})])]):t._e()],1)},[],!1,null,"c1d93734",null);e.default=g.exports},a693:function(t){t.exports=[{flag:"save",size:"",icon:"",label:"立即查找",styleType:"primary",postUrl:"addRegisterMember"},{flag:"reset",size:"",icon:"",label:"清  除",styleType:"",postUrl:"addRegisterMember"}]},c917:function(t){t.exports=[{type:"select",label:"年度考核目标任务",name:"assessmentTarget",span:8,width:"150px",data:[{label:"目标1",value:"targetId1"},{label:"目标2",value:"targetId2"},{label:"目标3",value:"targetId3"}]}]}}]);