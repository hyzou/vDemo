(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4d1a5636"],{"17cb":function(e){e.exports=[{type:"date",label:"年度",name:"year",span:8,dateType:"year"},{type:"input",label:"填报人",name:"people",span:8},{type:"date",label:"填报日期",name:"time",span:8,dateType:"daterange",dateRangeSeparator:"至",dateStartPlaceholder:"开始日期",dateEndPlaceholder:"结束日期",format:"yyyy-MM-dd",valueFormat:"yyyy-MM-dd"}]},"44b7":function(e,t,r){"use strict";var s=r("e288");r.n(s).a},"598e":function(e){e.exports=[{flag:"save",size:"",icon:"",label:"立即查找",styleType:"primary"},{flag:"clear",size:"",icon:"",label:"清除",styleType:"primary"}]},d87c:function(e){e.exports=[{prop:"year",lable:"年度",width:"80px"},{prop:"reviewProgress",lable:"考核工作进展情况"},{prop:"people",lable:"填报人"},{prop:"dateTime",lable:"填报日期"},{prop:"option",lable:"操作",propType:"operateBtns",width:"150px"}]},e288:function(e,t,r){},e679:function(e,t,r){"use strict";r.r(t);r("a481"),r("ac6a");var s=r("17cb"),o=r("598e"),a=r("d87c"),l={name:"workProgress",props:{workProgressForm:{type:Object,default:function(){return{year:"",address:"",reviewProgressBefore:"",reviewProgress:"",workResultsBefore:"",workResults:"",workIssuesBefore:"",workIssues:"",date:"",tel:"",people:"",disable:!1}}}},data:function(){return{rules:{year:[{required:!0,message:"请输入年份",trigger:"blur"}],address:[{required:!0,message:"请输入城市",trigger:"blur"}],reviewProgressBefore:[{required:!0,message:"请输入考核工作进展累计情况",trigger:"blur"}],reviewProgress:[{required:!0,message:"请输入考核工作进展当月情况",trigger:"blur"}],workResultsBefore:[{required:!0,message:"请输入累计工作突破和亮点",trigger:"blur"}],workResults:[{required:!0,message:"请输入当月工作突破和亮点",trigger:"blur"}],workIssuesBefore:[{required:!0,message:"请输入累计工作问题和弱点",trigger:"blur"}],workIssues:[{required:!0,message:"请输入当月工作问题和弱点",trigger:"blur"}],people:[{required:!0,message:"请输入填报人",trigger:"blur"}],tel:[{required:!0,message:"请输入电话",trigger:"blur"}],date:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}]}}},methods:{saveData:function(){var e;if(this.$refs.workProgressForm.validate(function(t){t&&(e=!0)}),e)return this.workProgressForm.id||(this.workProgressForm.id=this.$globalFnc.uuid()),this.workProgressForm}}},i=(r("44b7"),r("2877")),n={name:"reviewProgress",components:{workProgress:Object(i.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"width100"},[r("el-form",{ref:"workProgressForm",staticClass:"scopeForm",attrs:{rules:e.rules,model:e.workProgressForm}},[r("el-row",{staticClass:"table-row-height",staticStyle:{"border-top":"1px #DCDFE6 dashed"},attrs:{type:"flex"}},[r("el-col",{staticClass:"row-title",attrs:{span:2}},[e._v("\n        年度：\n      ")]),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{prop:"year"}},[r("el-input",{attrs:{disabled:e.workProgressForm.disabled,type:"input"},model:{value:e.workProgressForm.year,callback:function(t){e.$set(e.workProgressForm,"year",t)},expression:"workProgressForm.year"}})],1)],1),r("el-col",{staticClass:"row-title",attrs:{span:2}},[e._v("\n        城市:\n      ")]),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{prop:"address"}},[r("el-input",{attrs:{disabled:e.workProgressForm.disabled,type:"input"},model:{value:e.workProgressForm.address,callback:function(t){e.$set(e.workProgressForm,"address",t)},expression:"workProgressForm.address"}})],1)],1),r("el-col",{staticClass:"row-title",attrs:{span:2}},[e._v("\n        填报单位:\n      ")]),r("el-col",{staticClass:"borderRight row-title textAlignLeft",attrs:{span:6}},[e._v("\n        杭州市考核办\n      ")])],1),r("el-row",{staticClass:"table-row-height",staticStyle:{background:"#7abbff"}},[r("el-col",{staticClass:"row-title textAlignCenter text-white",attrs:{span:8}},[e._v("\n        填报内容\n      ")]),r("el-col",{staticClass:"row-title textAlignCenter text-white",attrs:{span:8}},[e._v("\n        累计情况\n      ")]),r("el-col",{staticClass:"row-title textAlignCenter borderRight text-white",attrs:{span:8}},[e._v("\n        当月情况\n      ")])],1),r("el-row",{staticClass:"table-row-textarea-height"},[r("el-col",{staticClass:"row-title-textarea",attrs:{span:8}},[e._v("\n        考核工作进展情况：\n      ")]),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"reviewProgressBefore"}},[r("el-input",{attrs:{disabled:e.workProgressForm.disabled,type:"textarea",rows:4},model:{value:e.workProgressForm.reviewProgressBefore,callback:function(t){e.$set(e.workProgressForm,"reviewProgressBefore",t)},expression:"workProgressForm.reviewProgressBefore"}})],1)],1),r("el-col",{staticClass:"borderRight",attrs:{span:8}},[r("el-form-item",{attrs:{prop:"reviewProgress"}},[r("el-input",{attrs:{disabled:e.workProgressForm.disabled,type:"textarea",rows:4},model:{value:e.workProgressForm.reviewProgress,callback:function(t){e.$set(e.workProgressForm,"reviewProgress",t)},expression:"workProgressForm.reviewProgress"}})],1)],1)],1),r("el-row",{staticClass:"table-row-textarea-height"},[r("el-col",{staticClass:"row-title-textarea",attrs:{span:8}},[e._v("\n        落实粮食安全市县长责任制取得的重大突破和工作亮点(分条列出)：\n      ")]),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"workResultsBefore"}},[r("el-input",{attrs:{disabled:e.workProgressForm.disabled,type:"textarea",rows:4},model:{value:e.workProgressForm.workResultsBefore,callback:function(t){e.$set(e.workProgressForm,"workResultsBefore",t)},expression:"workProgressForm.workResultsBefore"}})],1)],1),r("el-col",{staticClass:"borderRight",attrs:{span:8}},[r("el-form-item",{attrs:{prop:"workResults"}},[r("el-input",{attrs:{disabled:e.workProgressForm.disabled,type:"textarea",rows:4},model:{value:e.workProgressForm.workResults,callback:function(t){e.$set(e.workProgressForm,"workResults",t)},expression:"workProgressForm.workResults"}})],1)],1)],1),r("el-row",{staticClass:"table-row-textarea-height"},[r("el-col",{staticClass:"row-title-textarea",attrs:{span:8}},[e._v("\n        落实粮食安全市县长责任制存在的突出问题和薄弱环节(分条列出)：\n      ")]),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"workIssuesBefore"}},[r("el-input",{attrs:{disabled:e.workProgressForm.disabled,type:"textarea",rows:4},model:{value:e.workProgressForm.workIssuesBefore,callback:function(t){e.$set(e.workProgressForm,"workIssuesBefore",t)},expression:"workProgressForm.workIssuesBefore"}})],1)],1),r("el-col",{staticClass:"borderRight",attrs:{span:8}},[r("el-form-item",{attrs:{prop:"workIssues"}},[r("el-input",{attrs:{disabled:e.workProgressForm.disabled,type:"textarea",rows:4},model:{value:e.workProgressForm.workIssues,callback:function(t){e.$set(e.workProgressForm,"workIssues",t)},expression:"workProgressForm.workIssues"}})],1)],1)],1),r("el-row",{staticClass:"table-row-height"},[r("el-col",{staticClass:"row-title",attrs:{span:2}},[e._v("\n        填报人：\n      ")]),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{prop:"people"}},[r("el-input",{attrs:{disabled:e.workProgressForm.disabled,type:"input"},model:{value:e.workProgressForm.people,callback:function(t){e.$set(e.workProgressForm,"people",t)},expression:"workProgressForm.people"}})],1)],1),r("el-col",{staticClass:"row-title",attrs:{span:2}},[e._v("\n        联系电话：\n      ")]),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{prop:"tel"}},[r("el-input",{attrs:{disabled:e.workProgressForm.disabled,type:"input"},model:{value:e.workProgressForm.tel,callback:function(t){e.$set(e.workProgressForm,"tel",t)},expression:"workProgressForm.tel"}})],1)],1),r("el-col",{staticClass:"row-title",attrs:{span:2}},[e._v("\n        填报日期：\n      ")]),r("el-col",{staticClass:"borderRight",attrs:{span:6}},[r("el-form-item",{attrs:{prop:"date"}},[r("el-date-picker",{attrs:{disabled:e.workProgressForm.disabled,type:"date"},model:{value:e.workProgressForm.date,callback:function(t){e.$set(e.workProgressForm,"date",t)},expression:"workProgressForm.date"}})],1)],1)],1),r("el-row",{staticClass:"table-row-height"},[r("el-col",{staticClass:"row-title",attrs:{span:2}},[e._v("\n        相关附件：\n      ")]),r("el-col",{staticClass:"borderRight",staticStyle:{"line-height":"70px"},attrs:{span:22}},[[r("el-upload",{ref:"fileUpd",staticClass:"upload-demo row-title-area",attrs:{action:"123","auto-upload":!1,"show-file-list":!1}},[r("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[r("em",{staticClass:"el-icon-plus"}),e._v("上传附件\n            ")])],1)]],2)],1),r("el-row",{staticClass:"table-row-textarea-height"},[r("el-col",{staticClass:"row-title-textarea",attrs:{span:2}},[e._v("\n        填报说明：\n      ")]),r("el-col",{staticClass:"borderRight",attrs:{span:22}},[r("p",[e._v("\n          1、如果您提交文字超过1000个汉字请您线下编辑好此表格内容并且以附件的形式上传；\n        ")]),r("p",[e._v("2、如果您采用附件的形式上传，请在必填项内容中写明“详见附件”；")]),r("p",[e._v("3、考核工作进展情况表下载位置：“信息管理”模块下“资料下载”栏目")])])],1)],1)],1)},[],!1,null,"7bf9141a",null).exports},data:function(){return{reviewProgressSearchFormGroupSettings:{fullScreen:!1,formGroupList:s,formGroupValues:{},formButtonList:o},reviewProgressTableSettings:{tableDatas:[],tableSettingOptions:{ref:"reviewProgressTable",tooltipEffect:"dark",rowKey:"id",border:!0,headerOptions:a,isMultipleTable:"true"}},tableSelectedData:[],paginationSettings:{currentPage:1,layout:"total, prev, pager, next, jumper",totalNumbers:0},workProgressDialogSetting:{dialogVisible:!1,dialogName:"市考核工作进展情况表单"},workProgressForm:{}}},created:function(){},mounted:function(){this.setReviewProgressList()},methods:{setReviewProgressList:function(){this.reviewProgressTableSettings.tableDatas=this.$store.getters["supervision/workProgress"].slice(10*(this.paginationSettings.currentPage-1),10*this.paginationSettings.currentPage),this.paginationSettings.totalNumbers=this.$store.getters["supervision/workProgress"].length},handleReviewProgressSearchButtons:function(){},handleTableRowButton:function(e,t){var r=this;"edit"===t.type&&(e.date=this.parserDate(e.dateTime),this.workProgressForm=e,this.workProgressDialogSetting.dialogVisible=!0),"delete"===t.type&&this.$store.dispatch("supervision/commitDeleteWorkProgress",e.id?e.id:"").then(function(){r.setReviewProgressList()})},handleTableMutiChecked:function(e){this.tableSelectedData=e},handleAddWorkProgress:function(){this.workProgressForm={},this.workProgressDialogSetting.dialogVisible=!0},handleCloseDialog:function(){this.workProgressDialogSetting.dialogVisible=!1},handleDeleteSelectData:function(){var e=this;this.tableSelectedData.length?this.tableSelectedData.forEach(function(t){e.$store.dispatch("supervision/commitDeleteWorkProgress",t.id?t.id:"").then(function(){e.setReviewProgressList()})}):this.$message("请先选择要删除的信息")},handleExportSelectData:function(){},handleExportAllData:function(){},handlePaginationPagenumber:function(e){this.paginationSettings.currentPage=e,this.setReviewProgressList()},handleSizeChange:function(e){this.paginationSettings.currentPage=e,this.setReviewProgressList()},handleSaveData:function(){var e=this,t=this.$refs.workProgress.saveData();t&&(t.option=[{type:"edit",styleType:"primary",text:"编辑"},{type:"delete",styleType:"danger",text:"删除"}],t.dateTime=this.$globalFnc.changeDateFormat(t.date,"ymd"),this.$store.dispatch("supervision/commitWorkProgress",t).then(function(){e.setReviewProgressList()}),this.workProgressDialogSetting.dialogVisible=!1)},parserDate:function(e){var t=Date.parse(e);if(!isNaN(t))return new Date(Date.parse(e.replace(/-/g,"/")))}}},g=Object(i.a)(n,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"width100"},[r("el-col",{staticClass:"mb20",attrs:{span:24}},[r("commonTitleWithBorder",{attrs:{title:"查询条件"}})],1),r("el-col",{staticClass:"mb20",attrs:{span:24}},[r("formGroup",{attrs:{formGroupSettings:e.reviewProgressSearchFormGroupSettings},on:{formGroupSubmit:e.handleReviewProgressSearchButtons}})],1),r("el-row",{staticClass:"reviewProgress-title mb10"},[r("el-col",{attrs:{span:6}},[r("commonTitleWithBorder",{attrs:{title:"列表信息"}})],1),r("el-col",{staticClass:"textAlignRight",attrs:{span:18}},[r("el-button",{key:"add",attrs:{type:"primary"},on:{click:e.handleAddWorkProgress}},[e._v("新增\n      ")]),r("el-button",{attrs:{type:"danger"},on:{click:e.handleDeleteSelectData}},[e._v("批量删除\n      ")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleExportSelectData}},[e._v("选中导出\n      ")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleExportAllData}},[e._v("导出 ")])],1)],1),r("tableList",{attrs:{tablelistSettings:e.reviewProgressTableSettings},on:{handleTableRowButton:e.handleTableRowButton,handleTableMutiChecked:e.handleTableMutiChecked}}),r("pagination",{attrs:{paginationSettings:e.paginationSettings},on:{handlePaginationPagenumber:e.handlePaginationPagenumber,handlePaginationPagesize:e.handleSizeChange}}),e.workProgressDialogSetting.dialogVisible?r("el-dialog",{attrs:{top:"90px",width:"80%",title:e.workProgressDialogSetting.dialogName,visible:e.workProgressDialogSetting.dialogVisible,"close-on-click-modal":!1,"append-to-body":"","destroy-on-close":!0},on:{"update:visible":function(t){return e.$set(e.workProgressDialogSetting,"dialogVisible",t)}}},[r("workProgress",{ref:"workProgress",attrs:{workProgressForm:e.workProgressForm}}),r("div",{staticClass:"dialog-footer textAlignCenter",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveData}},[e._v("提交至省考核办")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveData}},[e._v("保存")]),r("el-button",{on:{click:e.handleCloseDialog}},[e._v("退出")])],1)],1):e._e()],1)},[],!1,null,"7d597918",null);t.default=g.exports}}]);