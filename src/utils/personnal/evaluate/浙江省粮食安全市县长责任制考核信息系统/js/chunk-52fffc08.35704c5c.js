(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-52fffc08"],{"022c":function(t){t.exports=[{prop:"assessmentTarget",lable:"年度考核目标任务"},{prop:"scoreStandard",lable:"评分标准"},{prop:"targetScore",lable:"分值"},{prop:"selfScore",lable:"自评分"},{prop:"reason",lable:"减分原因"},{prop:"measures",lable:"整改措施"},{prop:"cityLeadDepartment",lable:"市级牵头部门"},{prop:"cityCoordinationDepartment",lable:"市级配合部门"}]},2992:function(t,e,i){"use strict";i.r(e);i("7f7f"),i("55dd"),i("94b1"),i("007d"),i("2f73"),i("d28f"),i("627c"),i("0352");var s=i("022c"),a={name:"distributeSuperviseSummary",data:function(){return{dialogPreviewExportTitle:"杭州市2019年度落实粮食安全市县长责任制自查评分表",dialogPreviewExportVisible:!1,barOptions:{legend:{},tooltip:{},dataset:{source:[["年度","2019","2018","2017"],["杭州市","98.6","97","95.7"],["宁波市","94","93.8","92"],["温州市","95.6","94.3","92"],["嘉兴市","95.5","94","93.2"],["湖州市","92.5","90","85.7"],["绍兴市","91","87","85"],["金华市","97","97","95.5"],["衢州市","96","95.8","95.6"],["舟山市","94.3","93","92.7"],["台州市","93","91.3","89"],["丽水市","89.6","87.5","86"]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"},{type:"bar"}]},tablelistSettingsCurrent:{tableDatas:[],tableSettingOptions:{tooltipEffect:"dark",rowKey:"id",border:!0,headerOptions:[]}},tablelistSettingsPrew:{tableDatas:[],tableSettingOptions:{tooltipEffect:"dark",rowKey:"id",border:!0,headerOptions:[]}},tablelistSettingsReprew:{tableDatas:[],tableSettingOptions:{tooltipEffect:"dark",rowKey:"id",border:!0,headerOptions:[]}},tablelistSettings:{tableDatas:[],tableSettingOptions:{tooltipEffect:"dark",rowKey:"id",border:!0,headerOptions:[]}},previewTableSettings:{dialogFormClassName:"min",tableDatas:[],tableSettingOptions:{ref:"target",tooltipEffect:"dark",rowKey:"assessmentId",border:!0,headerOptions:s,isShowIndex:!1}}}},methods:{initTable:function(){var t=this,e={id:"2017"},i={id:"2018"},s={id:"2019"};this.barOptions.dataset.source.map(function(a,l){var n={lable:a[0],prop:"item"+l,clickVarKey:"id",clickType:l,clickable:l>=1};t.tablelistSettings.tableSettingOptions.headerOptions.push(n),e["item"+l]=a[3],i["item"+l]=a[2],s["item"+l]=a[1]}),this.tablelistSettings.tableDatas.push(s,i,e),this.initSortTable(this.tablelistSettings.tableSettingOptions.headerOptions,this.tablelistSettings.tableDatas[0],"tablelistSettingsCurrent","2019"),this.initSortTable(this.tablelistSettings.tableSettingOptions.headerOptions,this.tablelistSettings.tableDatas[1],"tablelistSettingsPrew","2018"),this.initSortTable(this.tablelistSettings.tableSettingOptions.headerOptions,this.tablelistSettings.tableDatas[2],"tablelistSettingsReprew","2017")},initSortTable:function(t,e,i,s){var a=this.$globalFnc.deepCopy(t),l=this.$globalFnc.deepCopy(e);a.map(function(t){t.clickable=!1,t.value=l[t.prop]}),a.sort(this.sortObjAttrFromBigToSmall("value"));var n={id:s};a.map(function(t){n[t.prop]=t.value}),this[i].tableDatas.push(n),this[i].tableSettingOptions.headerOptions=a},sortObjAttrFromBigToSmall:function(t){return function(e,i){var s=e[t],a=i[t];return s<a?1:s>a?-1:0}},handleTableItem:function(t,e,i,s){console.log(t,e,i,s),this.dialogPreviewExportTitle="".concat(this.tablelistSettings.tableSettingOptions.headerOptions[e].lable).concat(t,"年度落实粮食安全市县长责任制自查评分表"),this.dialogPreviewExportVisible=!0},setTableList:function(){var t=this;this.totalScore=0,this.totalSelfScore=0;var e=this.$store.getters["assessment/getAssessmentResult"],i=this.$store.getters["assessment/getAssessmentList"];i.map(function(i){return t.totalScore+=parseFloat(i.targetScore,2),t.totalSelfScore+=parseFloat(i.selfScore?i.selfScore:0,2),i.operateBtns=[],e[i.assessmentId]&&e[i.assessmentId].citySelf&&(i.selfName=e[i.assessmentId].citySelf.selfName,i.checkName=e[i.assessmentId].citySelf.checkName,i.status="complete"),e[i.assessmentId]&&e[i.assessmentId].cityOpinion&&(i.opinion=e[i.assessmentId].cityOpinion.opinion,i.material=e[i.assessmentId].cityOpinion.material),i}),this.previewTableSettings.tableDatas=[],this.previewTableSettings.tableDatas=i}},mounted:function(){this.initTable(),this.setTableList()}},l=i("2877"),n=Object(l.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pt10 pr10 pl10 width100"},[i("div",{staticClass:"width100 fontSize24 textAlignCenter mb30"},[t._v("\n    各市县近三年年度考核指标评分对照表\n  ")]),i("vChart",{staticClass:"width100",attrs:{options:t.barOptions,autoresize:"",theme:"light"}}),i("div",{staticClass:"width100 fontSize24 textAlignCenter mt30 mb20"},[t._v("\n    各市县2019年度考核指标评分排名表(按照评分从高到低排列)\n  ")]),i("tableList",{attrs:{tablelistSettings:t.tablelistSettingsCurrent}}),i("div",{staticClass:"width100 fontSize24 textAlignCenter mt30 mb20"},[t._v("\n    各市县2018年度考核指标评分排名表(按照评分从高到低排列)\n  ")]),i("tableList",{attrs:{tablelistSettings:t.tablelistSettingsPrew}}),i("div",{staticClass:"width100 fontSize24 textAlignCenter mt30 mb20"},[t._v("\n    各市县2017年度考核指标评分排名表(按照评分从高到低排列)\n  ")]),i("tableList",{attrs:{tablelistSettings:t.tablelistSettingsReprew}}),i("div",{staticClass:"width100 fontSize24 textAlignCenter mt30 mb20"},[t._v("\n    各市县近三年年度考核指标评分表\n  ")]),i("tableList",{staticClass:"mt30",attrs:{tablelistSettings:t.tablelistSettings},on:{handleTableItem:t.handleTableItem}}),i("el-dialog",{attrs:{title:"预览及导出",visible:t.dialogPreviewExportVisible,width:"70%","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":!0},on:{"update:visible":function(e){t.dialogPreviewExportVisible=e}}},[i("el-row",{staticClass:"mb10"},[i("el-col",{staticClass:"textAlignCenter",staticStyle:{"font-size":"24px"},attrs:{span:22}},[t._v("\n        "+t._s(t.dialogPreviewExportTitle)+"\n      ")]),i("el-col",{staticClass:"textAlignRight",attrs:{span:2}},[i("el-button",{attrs:{type:"primary"}},[t._v("导出")])],1)],1),i("tableList",{attrs:{tablelistSettings:t.previewTableSettings}})],1)],1)},[],!1,null,"280561b7",null);e.default=n.exports}}]);