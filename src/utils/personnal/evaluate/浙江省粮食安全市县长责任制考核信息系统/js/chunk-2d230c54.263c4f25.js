(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d230c54"],{ee64:function(t,e,s){"use strict";s.r(e);s("ac6a");var n=s("1096"),i=s("97a6"),a=s("8515"),o=s("452f"),r=s("0996"),l={name:"progressAccount",components:{Status:o.a,indexAssignment:r.a},data:function(){return{progressAccountSearchFormGroupSettings:{fullScreen:!1,formGroupList:n,formGroupValues:{},formButtonList:i},progressAccountTableSettings:{tableDatas:[],tableSettingOptions:{ref:"progressAccountTable",tooltipEffect:"dark",rowKey:"id",border:!0,headerOptions:a}},paginationSettings:{currentPage:1,layout:"total, prev, pager, next, jumper",totalNumbers:0},indexAddignmentDialogSetting:{dialogVisible:!1,dialogName:"市县考核办指标分派设置表单"},indexConfigForm:{},showDialogSave:!1}},mounted:function(){this.setProgressAccountList()},methods:{setProgressAccountList:function(){var t=this,e=this.$store.getters["user/userInfos"].userId,s=this.$store.getters["assessment/getAssessmentList"].concat(),n=this.$store.getters["supervision/getProgressResult"];this.progressAccountTableSettings.tableDatas=[],s.forEach(function(s){s.cityLeadDepartmentId&&s.cityLeadDepartmentId==e&&((n[s.assessmentId]&&n[s.assessmentId].departmentResult||n[s.assessmentId]&&n[s.assessmentId].officeResult)&&((s=Object.assign({},s,n[s.assessmentId].officeResult?n[s.assessmentId].officeResult:{},n[s.assessmentId].departmentResult?n[s.assessmentId].departmentResult:{})).implementProgress=s.departmentImplementProgress,s.implementProgressDate=s.departmentImplementProgressDate),s.option=[],s.option.push({type:"edit",styleType:"primary",text:"编辑"},{type:"distribute",styleType:"primary",text:"分配"}),t.progressAccountTableSettings.tableDatas.push(s))}),this.paginationSettings.totalNumbers=this.progressAccountTableSettings.tableDatas.length},handleProgressAccountSearchButtons:function(){},handleTableRowButton:function(t,e){var s={};"distribute"===e.type&&(this.showDialogSave=!1,s={isDistribute:!0,isDepartment:!1,isOffice:!1},this.indexConfigForm=Object.assign({},t,s),this.indexAddignmentDialogSetting.dialogVisible=!0),"edit"===e.type&&(this.showDialogSave=!0,s={isDepartment:!0,isOffice:!0,officeDisabled:!0},this.indexConfigForm=Object.assign({},t,s),this.indexAddignmentDialogSetting.dialogVisible=!0)},handleCloseDialog:function(){this.indexAddignmentDialogSetting.dialogVisible=!1},handleSaveData:function(){var t=this,e=this.$refs.indexAssignment.saveData();e.departmentImplementProgressDate=this.$globalFnc.changeDateFormat(new Date,"ymd"),e.consultStatus="incomplete",this.$store.dispatch("supervision/commitProgressResult",{formData:e,action:"departmentResult"}).then(function(){t.setProgressAccountList()}),this.indexAddignmentDialogSetting.dialogVisible=!1},handlePaginationPagenumber:function(){},handleSizeChange:function(){},handleExportAllData:function(){}}},g=s("2877"),d=Object(g.a)(l,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"width100"},[s("formGroup",{attrs:{formGroupSettings:t.progressAccountSearchFormGroupSettings},on:{formGroupSubmit:t.handleProgressAccountSearchButtons}}),s("el-row",{staticClass:"progressAccount-title mb10"},[s("el-col",{attrs:{span:6}},[s("commonTitleWithBorder",{attrs:{title:"列表信息"}})],1),s("el-col",{staticClass:"textAlignRight",attrs:{span:18}},[s("el-button",{attrs:{type:"primary"},on:{click:t.handleExportAllData}},[t._v("导出")])],1)],1),s("el-col",{attrs:{span:24}},[s("ul",{staticClass:"lheight40"},[t._v("\n      状态提醒:\n      "),s("Status"),t._v("\n      无落实进展\n      "),s("Status",{staticClass:"ml10",attrs:{status:"incomplete"}}),t._v("\n      有进展未查阅\n      "),s("Status",{staticClass:"ml10",attrs:{status:"complete"}}),t._v("\n      有进展已查阅\n    ")],1)]),s("tableList",{attrs:{tablelistSettings:t.progressAccountTableSettings},on:{handleTableRowButton:t.handleTableRowButton}}),s("pagination",{attrs:{paginationSettings:t.paginationSettings},on:{handlePaginationPagenumber:t.handlePaginationPagenumber,handlePaginationPagesize:t.handleSizeChange}}),t.indexAddignmentDialogSetting.dialogVisible?s("el-dialog",{staticClass:"device-test",attrs:{top:"90px",width:"70%",title:t.indexAddignmentDialogSetting.dialogName,visible:t.indexAddignmentDialogSetting.dialogVisible,"close-on-click-modal":!1,"append-to-body":"","destroy-on-close":!0},on:{"update:visible":function(e){return t.$set(t.indexAddignmentDialogSetting,"dialogVisible",e)}}},[s("index-assignment",{ref:"indexAssignment",attrs:{indexConfigForm:t.indexConfigForm}}),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.showDialogSave?s("el-button",{on:{click:t.handleSaveData}},[t._v("保存")]):t._e(),t.showDialogSave?s("el-button",{attrs:{type:"primary"},on:{click:t.handleCloseDialog}},[t._v("退出")]):t._e()],1)],1):t._e()],1)},[],!1,null,"6f2e1806",null);e.default=d.exports}}]);