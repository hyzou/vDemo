(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d224c2a"],{e207:function(t,e,s){"use strict";s.r(e);s("ac6a");var n=s("1096"),a=s("97a6"),i=s("8515"),o=s("452f"),l=s("0996"),r={name:"progressAccount",components:{Status:o.a,indexAssignment:l.a},data:function(){return{progressAccountSearchFormGroupSettings:{fullScreen:!1,formGroupList:n,formGroupValues:{},formButtonList:a},progressAccountTableSettings:{tableDatas:[],tableSettingOptions:{ref:"progressAccountTable",tooltipEffect:"dark",rowKey:"id",border:!0,headerOptions:i}},paginationSettings:{currentPage:1,layout:"total, prev, pager, next, jumper",totalNumbers:0},indexAddignmentDialogSetting:{dialogVisible:!1,dialogName:"市县考核办指标分派设置表单"},indexConfigForm:{},showDialogSave:!1}},mounted:function(){this.setProgressAccountList()},methods:{setProgressAccountList:function(){var t=this,e=this.$store.getters["assessment/getAssessmentList"].concat(),s=this.$store.getters["supervision/getProgressResult"];this.progressAccountTableSettings.tableDatas=[],e.forEach(function(e){s[e.assessmentId]&&s[e.assessmentId].departmentResult&&((e=Object.assign({},e,s[e.assessmentId].departmentResult)).implementProgress=e.departmentImplementProgress,e.implementProgressDate=e.departmentImplementProgressDate),e.option=[],e.option.push({type:"detail",styleType:"text",text:"查看"}),t.progressAccountTableSettings.tableDatas.push(e)}),this.paginationSettings.totalNumbers=this.progressAccountTableSettings.tableDatas.length},handleProgressAccountSearchButtons:function(){},handleTableRowButton:function(t,e){var s=this,n={};if("detail"===e.type){if(!t.consultStatus)return void this.$message.error("无落实进展情况!");this.showDialogSave=!1,n={isDepartment:!0,isOffice:!1,departmentDisabled:!0},this.indexConfigForm=Object.assign({},t,n),this.indexAddignmentDialogSetting.dialogVisible=!0,t.consultStatus="complete",this.$store.dispatch("assessment/commitAssessmentInfo",t).then(function(){s.setProgressAccountList()})}},handleCloseDialog:function(){this.indexAddignmentDialogSetting.dialogVisible=!1},handleSaveData:function(){var t=this,e=this.$refs.indexAssignment.saveData();e.implementProgressDate=this.$globalFnc.changeDateFormat(new Date,"ymd"),e.consultStatus="incomplete",this.$store.dispatch("assessment/commitAssessmentInfo",e).then(function(){t.setProgressAccountList()}),this.indexAddignmentDialogSetting.dialogVisible=!1},handlePaginationPagenumber:function(){},handleSizeChange:function(){},handleExportAllData:function(){}}},g=s("2877"),c=Object(g.a)(r,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"width100"},[s("el-col",{staticClass:"mb20",attrs:{span:24}},[s("commonTitleWithBorder",{attrs:{title:"查询条件"}})],1),s("el-col",{staticClass:"mb20",attrs:{span:24}},[s("formGroup",{attrs:{formGroupSettings:t.progressAccountSearchFormGroupSettings},on:{formGroupSubmit:t.handleProgressAccountSearchButtons}})],1),s("el-row",{staticClass:"progressAccount-title mb10"},[s("el-col",{attrs:{span:6}},[s("commonTitleWithBorder",{attrs:{title:"列表信息"}})],1),s("el-col",{staticClass:"textAlignRight",attrs:{span:18}},[s("el-button",{attrs:{type:"primary"},on:{click:t.handleExportAllData}},[t._v("导出")])],1)],1),s("el-col",{attrs:{span:24}},[s("ul",{staticClass:"lheight40"},[t._v("\n      状态提醒:\n      "),s("Status"),t._v("\n      无落实进展\n      "),s("Status",{staticClass:"ml10",attrs:{status:"incomplete"}}),t._v("\n      有进展未查阅\n      "),s("Status",{staticClass:"ml10",attrs:{status:"complete"}}),t._v("\n      有进展已查阅\n    ")],1)]),s("tableList",{attrs:{tablelistSettings:t.progressAccountTableSettings},on:{handleTableRowButton:t.handleTableRowButton}}),s("pagination",{attrs:{paginationSettings:t.paginationSettings},on:{handlePaginationPagenumber:t.handlePaginationPagenumber,handlePaginationPagesize:t.handleSizeChange}}),t.indexAddignmentDialogSetting.dialogVisible?s("el-dialog",{staticClass:"device-test",attrs:{top:"90px",width:"70%",title:t.indexAddignmentDialogSetting.dialogName,visible:t.indexAddignmentDialogSetting.dialogVisible,"close-on-click-modal":!1,"append-to-body":"","destroy-on-close":!0},on:{"update:visible":function(e){return t.$set(t.indexAddignmentDialogSetting,"dialogVisible",e)}}},[s("index-assignment",{ref:"indexAssignment",attrs:{indexConfigForm:t.indexConfigForm}}),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.showDialogSave?s("el-button",{on:{click:t.handleSaveData}},[t._v("保存")]):t._e(),t.showDialogSave?s("el-button",{attrs:{type:"primary"},on:{click:t.handleCloseDialog}},[t._v("退出")]):t._e()],1)],1):t._e()],1)},[],!1,null,"4807ed42",null);e.default=c.exports}}]);