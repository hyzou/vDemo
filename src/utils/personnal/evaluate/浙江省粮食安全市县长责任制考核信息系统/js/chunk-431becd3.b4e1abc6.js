(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-431becd3"],{"0c56":function(t,e,a){"use strict";a.r(e);a("7f7f"),a("ac6a");var i=a("c917"),s=a("a693"),o=a("5364"),n=a("1f48"),l=a("1474"),r=a("e776"),d=a("bf46"),p={name:"index",components:{formGroup:r.a,dialogForm:d.a},data:function(){return{paginationSettings:{currentPage:1,layout:"total, prev, pager, next, jumper",totalNumbers:0},searchFormItems:{fullScreen:!1,formGroupList:i,formGroupValues:{},formButtonList:s},dialogFormSettings:{fullScreen:!1,dialogFormVisible:!1,dialogFormTitle:"意见征询",dialogFormItems:{formGroupValues:{},formGroupList:n,formButtonList:l}},tableSettings:{tableDatas:[],tableSettingOptions:{ref:"target",tooltipEffect:"dark",rowKey:"targetId",border:!0,headerOptions:o,isShowIndex:!0,showIndexHeader:"序号"}},dialogFormSettingsAnalysis:{dialogFormTitle:"意见分析",dialogType:"image",dialogFormVisible:!1,imgSrc:"../../../../assets/target.jpg"}}},methods:{handleSearchFormBtn:function(t,e){console.log(t,e)},handleAddIndex:function(){this.dialogFormSettings.dialogFormVisible=!0,this.dialogFormSettings.dialogFormItems.formButtonList=[{flag:"addSave",label:"保存",styleType:"primary"},{flag:"cancle",label:"退出",styleType:""}];var t=JSON.parse(JSON.stringify(n));t.forEach(function(t,e){t.disabled&&(t.disabled=!1),"cityOpinion"===t.name&&(t.hideItem=!0),"coordinationList"===t.name&&(t.hideItem=!0)}),this.dialogFormSettings.dialogFormItems.formGroupList=t,this.dialogFormSettings.dialogFormItems.formGroupValues={hotTip:"您可针对本年度考核目标任务及评分标准提出修改意见,为方便牵头部门汇总和修改,如无意见请不要填写。如您填写“无意见、没有意见、暂无意见之类的内容,系统会判断您已提出了意见,井会将您的意见提交给牵头部门,从而增加牵头部门的审核工作量。"}},handleTableRowButton:function(t,e){var a,i=this;switch(e.type){case"opinion":this.dialogFormSettings.dialogFormVisible=!0,this.dialogFormSettings.dialogFormItems.formGroupValues=JSON.parse(JSON.stringify(t));break;case"analysis":this.dialogFormSettings.dialogFormVisible=!0,this.dialogFormSettings.dialogFormItems.formButtonList=[{flag:"publishTask",label:"发布为年度考核任务",styleType:"primary"},{flag:"editSave",label:"保存",styleType:"primary"},{flag:"cancle",label:"退出",styleType:""}],(a=JSON.parse(JSON.stringify(n))).forEach(function(t,e){t.disabled&&(t.disabled=!1),"cityOpinion"===t.name&&a.splice(e,1)}),this.dialogFormSettings.dialogFormItems.formGroupList=a,this.dialogFormSettings.dialogFormItems.formGroupValues=JSON.parse(JSON.stringify(t));break;case"edit":this.dialogFormSettings.dialogFormVisible=!0,this.dialogFormSettings.dialogFormItems.formButtonList=[{flag:"editSave",label:"保存",styleType:"primary"},{flag:"cancle",label:"退出",styleType:""}],(a=JSON.parse(JSON.stringify(n))).forEach(function(t){t.disabled&&(t.disabled=!1),"cityOpinion"===t.name&&(t.hideItem=!0),"coordinationList"===t.name&&(t.hideItem=!0)}),this.dialogFormSettings.dialogFormItems.formGroupList=a,this.dialogFormSettings.dialogFormItems.formGroupValues=JSON.parse(JSON.stringify(t));break;case"delete":this.$store.dispatch("assessment/commitDeleteIndexList",t.targetId?t.targetId:"").then(function(){i.setTableList()})}},handleDialogForm:function(t,e){var a=this;this.dialogFormSettings.dialogFormVisible=!1,"save"===t.flag&&e.cityOpinion&&this.$store.getters["assessment/getTargetList"].forEach(function(t){t.targetId===e.targetId&&(t.cityOpinion=e.cityOpinion,a.$store.dispatch("assessment/commitTargetInfo",t).then(function(){return a.setTableList()}))}),"addSave"===t.flag&&(e.targetId=this.$globalFnc.uuid(),this.$store.dispatch("assessment/commitIndexList",e).then(function(){a.setTableList()})),"editSave"===t.flag&&this.$store.dispatch("assessment/commitIndexList",e).then(function(){a.setTableList()})},setTableList:function(){var t=this;o.map(function(t){"cityOpinion"==t.prop&&(t.isHide=!0)});var e=this.$store.getters["assessment/getIndexList"].concat(),a=[];this.tableSettings.tableDatas=e.map(function(e,i){return e.chageYear=t.$globalFnc.changeDateFormat(e.year,"y"),e.operateBtns=[],e.operateBtns.push({text:"编辑",type:"edit",styleType:"primary"},{text:"删除",type:"delete",styleType:"danger"},{text:"意见分析",type:"analysis",styleType:"primary"}),a.push({value:i+1,label:e.assessmentTarget}),e}),this.paginationSettings.totalNumbers=this.tableSettings.tableDatas.length,this.searchFormItems.formGroupList.map(function(t){return"assessmentTarget"===t.name&&(t.data=a),t})}},mounted:function(){this.setTableList()}},m=a("2877"),g=Object(m.a)(p,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pt10 pr10 pl10 width100"},[i("el-col",{staticClass:"mb20",attrs:{span:24}},[i("commonTitleWithBorder",{attrs:{title:"查询条件"}})],1),i("el-col",{staticClass:"mb20",attrs:{span:24}},[i("formGroup",{attrs:{formGroupSettings:t.searchFormItems},on:{formGroupSubmit:t.handleSearchFormBtn}})],1),i("el-col",{attrs:{span:6}},[i("commonTitleWithBorder",{attrs:{title:"列表信息"}})],1),i("el-col",{staticClass:"mb10 textAlignRight",attrs:{span:6,offset:12}},[i("el-button",{attrs:{type:"primary"},on:{click:t.handleAddIndex}},[t._v("新增")]),i("el-button",{attrs:{type:"primary"}},[t._v("导出")])],1),i("tableList",{attrs:{tablelistSettings:t.tableSettings},on:{handleTableRowButton:t.handleTableRowButton}}),i("pagination",{attrs:{paginationSettings:t.paginationSettings}}),t.dialogFormSettings.dialogFormVisible?i("dialogForm",{attrs:{dialogFormSettings:t.dialogFormSettings},on:{handleDialogForm:t.handleDialogForm}}):t._e(),t.dialogFormSettingsAnalysis.dialogFormVisible?i("el-dialog",{attrs:{title:"意见分析",visible:t.dialogFormSettingsAnalysis.dialogFormVisible,"close-on-click-modal":!1,"append-to-body":"","destroy-on-close":!0},on:{"update:visible":function(e){return t.$set(t.dialogFormSettingsAnalysis,"dialogFormVisible",e)}}},[i("div",{staticClass:"textAlignCenter"},[i("img",{attrs:{src:a("1143"),alt:""}})])]):t._e()],1)},[],!1,null,"679a6952",null);e.default=g.exports},1143:function(t,e,a){t.exports=a.p+"img/target.8a17f043.jpg"},1474:function(t){t.exports=[{flag:"post",size:"",icon:"",label:"提交至省考核办",styleType:"primary",postUrl:"addRegisterMember"},{flag:"save",size:"",icon:"",label:"保存",styleType:"primary",postUrl:"addRegisterMember"},{flag:"cancle",size:"",icon:"",label:"退出",styleType:"",postUrl:"addRegisterMember"}]},"1f48":function(t){t.exports=[{type:"inputHidden",label:"数据id",name:"targetId",span:24,width:"150px"},{type:"date",label:"年度",name:"year",span:12,width:"150px",dateType:"year",disabled:!0},{type:"input",label:"城市",name:"cityName",span:12,width:"150px",disabled:!0},{type:"input",label:"考核内容",name:"assessmentContent",span:24,width:"150px",disabled:!0},{type:"input",label:"重点考核事项",name:"assessmentItems",span:24,width:"150px",disabled:!0},{type:"input",label:"年度考核目标",name:"assessmentTarget",span:24,width:"150px",disabled:!0},{type:"textarea",label:"评分标准",name:"scoreStandard",span:24,width:"150px",disabled:!0,rows:4},{type:"textarea",label:"市县级征询意见",name:"cityOpinion",span:24,width:"150px",rows:3},{type:"inputTable",label:"市县级意见列表",name:"coordinationList",span:24,width:"150px",headers:[{key:"coordination",title:"市县名称",disabled:!0},{key:"coordinationOpinions",title:"市县级部门意见",disabled:!0},{key:"coordinationMaterials",inputType:"nullSpan",title:"配合材料",disabled:!0}],tableItems:{coordination:"",coordinationOpinions:"",coordinationMaterials:""}},{type:"textarea",label:"特别提示",name:"hotTip",span:24,width:"150px",disabled:!0,className:"hot-tip",rows:3}]},5364:function(t){t.exports=[{prop:"year",lable:"年度"},{prop:"assessmentTarget",lable:"年度考核目标任务"},{prop:"targetScore",lable:"分值"},{prop:"scoreStandard",lable:"评分标准"},{prop:"provinceLeadDepartment",lable:"省牵头部门"},{prop:"provinceCoordinationDepartment",lable:"省配合部门"},{prop:"cityOpinion",lable:"修改意见"},{prop:"operateBtns",lable:"操作",propType:"operateBtns",width:"250px"}]},a693:function(t){t.exports=[{flag:"save",size:"",icon:"",label:"立即查找",styleType:"primary",postUrl:"addRegisterMember"},{flag:"reset",size:"",icon:"",label:"清  除",styleType:"",postUrl:"addRegisterMember"}]},c917:function(t){t.exports=[{type:"select",label:"年度考核目标任务",name:"assessmentTarget",span:8,width:"150px",data:[{label:"目标1",value:"targetId1"},{label:"目标2",value:"targetId2"},{label:"目标3",value:"targetId3"}]}]}}]);